{% extends "agents/base.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'agents/css/apartment.css' %}">

<div class="page-apartment pb-5">
    <div class="page-apartment__header-back">
        <a href="/"></a>
            <button type="button" class="ui-button ui-button--transparent ui-button--large">
                ← Назад к объектам
            </button>
        </a>
    </div>

    <div class="page-apartment__body">
        <!-- Шапка объекта -->
        <div class="apartment-header page-apartment__header">
            <div class="apartment-header__body">
                <div class="apartment-card">
                    <div class="apartment-card__photo" style="background-image: url('{{ property.main_image }}');"></div>
                    <div class="apartment-card__description">
                        <div>
                            <div class="ui-tag apartment-header__tag">
                                <span class="el-tag el-tag--info el-tag--small el-tag--light tag-size-m">
                                    Подписание документов
                                </span>
                            </div>
                        </div>
                        <h4>{{ property.address_full }}</h4>
                        <div class="apartment-card__description_row">
                            <span>{{ property.property_type }}</span>
                            <span>{{ property.area }} кв.м.</span>
                            <span>{{ property.floor }}/{{ property.floors_total }} этаж</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Вкладки -->
        <div class="page-apartment__tabs">
            <div class="el-tabs__header">
                <div class="el-tabs__nav-wrap">
                    <div class="el-tabs__nav">
                        <a href="#" class="el-tabs__item is-active">Аренда</a>
                        <a href="#" class="el-tabs__item">Анкета объекта</a>
                        <a href="#" class="el-tabs__item">Опись имущества</a>
                        <a href="#" class="el-tabs__item">Документы</a>
                        <a href="#" class="el-tabs__item">История</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Основной контент -->
        <div class="apartment-main__container">
            <div class="apartment-main__columns apartment-main__columns--sign">
                <!-- Левая колонка -->
                <div class="apartment-main__block apartment-main__columns-block">
                    <div class="apartment-main__block apartment-main__block--dense">
                        <h6 class="base-title">Документы</h6>
                        <div class="apartment-main__docs-buttons">
                            <a href="{{ property.contract_url }}" target="_blank">
                                <button type="button" class="ui-button ui-button--transparent ui-button--small">
                                    Договор аренды
                                </button>
                            </a>
                            <a href="{{ property.service_contract_url }}" target="_blank">
                                <button type="button" class="ui-button ui-button--transparent ui-button--small">
                                    Договор оказания услуг
                                </button>
                            </a>
                            <a href="{{ property.acceptance_url }}" target="_blank">
                                <button type="button" class="ui-button ui-button--transparent ui-button--small">
                                    Акт приема-сдачи
                                </button>
                            </a>
                        </div>
                    </div>

                    <div class="apartment-main__block apartment-main__block--dense">
                        <h6 class="base-title">Подписание документов</h6>
                        <div class="apartment-main__rows-with-sep">
                            <div class="apartment-main__actionstate">
                                <span class="apartment-main__actionstate-label">Собственник {{ owner.phone }}</span>
                                <span class="ui-tag tag-transparent">Ожидание подписания</span>
                                <span class="el-spinner"></span>
                            </div>
                            <div class="apartment-main__actionstate">
                                <span class="apartment-main__actionstate-label">Арендатор {{ tenant.phone }}</span>
                                <span class="ui-tag tag-transparent">Ожидание подписания</span>
                                <span class="el-spinner"></span>
                            </div>
                        </div>
                    </div>

                    <button type="button" class="ui-button ui-button--secondary">Отмена аренды</button>
                </div>

                <!-- Правая колонка (платежи) -->
                <div class="apartment-main__block apartment-main__columns-payments">
                    <div class="apartment-main__columns-payment">
                        <h6 class="base-title">Оплата через приложение</h6>
                        <div class="apartment-main__rows-with-sep">
                            <div class="apartment-main__actionstate">
                                <span class="apartment-main__actionstate-label">Комиссия «Самолет Плюс» ({{ deal.commission }} ₽)</span>
                                <span class="ui-tag tag-transparent">Ожидание оплаты</span>
                                <span class="el-spinner"></span>
                            </div>
                            <div class="apartment-main__actionstate">
                                <span class="apartment-main__actionstate-label">Страховой полис ({{ deal.insurance_amount }} ₽)</span>
                                <span class="ui-tag tag-transparent">Ожидание оплаты</span>
                                <span class="el-spinner"></span>
                            </div>
                        </div>
                    </div>
                    <div class="apartment-main__columns-payment">
                        <h6 class="base-title">Оплата собственнику</h6>
                        <div class="apartment-main__rows-with-sep">
                            <div class="apartment-main__actionstate">
                                <span class="apartment-main__actionstate-label">За первый месяц аренды ({{ deal.rent_amount }} ₽)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}